<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>Instrumentos para el Desarrollo Productivo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Loading Bootstrap -->
    <link href="assets/bootstrap/css/bootstrap.css" rel="stylesheet">
    <link href="assets/bootstrap/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Loading Flat UI -->
    <link href="assets/css/flat-ui.css" rel="stylesheet">

    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="stylesheet" href="assets/css/style.css"/>
</head>
<body ng-app="funding" ng-controller="AppController">
<div class="row inverse fluid">
    <div class="container">
        <div class="span12">
            <h3>Intrumentos para el desarrollo productivo</h3>
        </div>
    </div>
</div>
<div class="row light">
    <div class="container">
        <div class="row" ng-show="debug">
            <div class="span12">
                <div class="well">
                    {{ filter | json }}
                </div>
            </div>
        </div>
        <div class="row" style="padding-top: 16px">
            <div class="span12">
                <p>Utilice los controles para filtrar los resultados y econtrar el instrumento que necesita:</p>
            </div>
            <div class="span4">
                <div class="well well-small facet" ng-cloak>
                    <h6 class="pull-left"><strong>Beneficiarios</strong></h6>
                    <a class="close" href="#" ng-click="resetBeneficiarios()">&times;</a>
                    <form class="form-search">
                        <div class="input-append">
                            <input type="text" class="search-query" placeholder="Buscar beneficiarios">
                            <button type="submit" class="btn"><span class="fui-search"></span></button>
                        </div>
                    </form>
                    <div class="scroll">
                        <ul class="unstyled">
                            <li class="facetitem" ng-repeat="beneficiario in beneficiarios" ng-click="toggleBeneficiarioChecked(beneficiario)">
                                <a href="#" ng-class="{ checked: beneficiario.checked }">
                                    {{ beneficiario.label }}
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="span4">
                <div class="well well-small facet" ng-cloak>
                    <h6 class="pull-left"><strong>Mecanismos</strong></h6>
                    <a class="close" href="#" ng-click="resetMecanismos()">&times;</a>
                    <form class="form-search">
                        <div class="input-append">
                            <input type="text" class="search-query" placeholder="Buscar mecanismos">
                            <button type="submit" class="btn"><span class="fui-search"></span></button>
                        </div>
                    </form>
                    <ul class="unstyled">
                        <li class="facetitem" ng-repeat="mecanismo in mecanismos" ng-click="toggleMecanismoChecked(mecanismo)">
                            <a href="#" ng-class="{ checked: mecanismo.checked }">
                                {{ mecanismo.label }}
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="row inverse fluid">
    <div class="container">
        <div class="span12">
            <p style="margin-top: 10px">
                Estas viendo todos los instrumentos
                <span ng-show="filter.beneficiarios.length > 0">cuyos beneficiarios sean <span class="filter-items">{{ filter.beneficiarios | join:'label':', ' }}</span></span>
                <span ng-show="filter.beneficiarios.length > 0 && filter.mecanismos.length > 0"> y </span>
                <span ng-show="filter.mecanismos.length > 0">cuyos mecanismos sean <span class="filter-items">{{ filter.mecanismos | join:'label':', ' }}</span></span>
                .
            </p>
        </div>
    </div>
</div>
<div class="container" style="min-height: 500px">
    <div class="row" style="padding-top: 16px">
        <div class="span12" ng-show="funds.length > 0">
            <p class="pull-right" ng-cloak>Mostrando 1-{{ funds.length }} de {{ funds.length }} resultados</p>
        </div>
        <div class="span12" ng-show="funds.length == 0">
            <div class="alert alert-info">
                <h3>No se encontraron resutlados</h3>
                <p>No se encontraron instrumentos con el criterio de filtro seleccionado. Pruebe limpiando el filtro y vuevla a comenzar.</p>
                <a href="#" class="btn btn-info btn-wide" ng-click="resetFilter()">Limpiar todos los filtros</a>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="span12">
            <ul class="unstyled">
                <li ng-repeat="fund in funds">
                    <div class="alert alert-info" ng-cloak>
                        <small>{{ fund.fondo }}</small>
                        <h6>{{ fund.instrumento }}</h6>
                        <p ng-show="fund.detalle">{{ fund.detalle }}</p>
                        <dl>
                            <dt>Beneficiarios:</dt>
                            <dd>{{ fund.beneficiarios | nonempty }}</dd>
                            <dt>Descripción de beneficiarios</dt>
                            <dd>{{ fund.beneficiarios_descripcion }}</dd>
                            <dt>Tipo de beneficiarios</dt>
                            <dd>{{ fund.beneficiarios_tipo }}</dd>
                            <dt>Mecanismos:</dt>
                            <dd>{{ fund.mecanismos | nonempty }}</dd>
                            <dt>Sector:</dt>
                            <dd>{{ fund.sector | nonempty }}</dd>
                            <dt>Fase de desarrollo:</dt>
                            <dd>{{ fund.fase_de_desarrollo | nonempty }}</dd>
                            <dt>Tipo de proyecto:</dt>
                            <dd>{{ fund.tipo_de_proyecto | nonempty }}</dd>
                            <dt>Tipo de convocatoria:</dt>
                            <dd>{{ fund.tipo_de_convocatoria | nonempty }}</dd>
                            <dt>Objetivos:</dt>
                            <dd>{{ fund.objetivos }}</dd>
                            <dt>Tipo de financiamiento:</dt>
                            <dd>{{ fund.tipo_de_financiamiento }}</dd>
                            <dt>Monto máximo:</dt>
                            <dd>{{ fund.monto_maximo }}</dd>
                            <dt>Plazo máximo</dt>
                            <dd>{{ fund.plazo_max }}</dd>
                            <dt>Site:</dt>
                            <dd><a href="{{ fund.url }}" target="_blank">{{ fund.url }}</a></dd>
                        </dl>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</div>

<div class="bottom-menu bottom-menu-large mbl">
    <div class="container">
        <div class="row">
            <div class="span2 brand">
                <a href="#fakelink">Instrumentos para el Desarrollo Productivo</a>
            </div>
        </div>
    </div>
</div>


<!--<div id=facets></div>-->
<!--<div id=results></div>-->

<!-- Load JS here for greater good =============================-->
<script src="assets/js/angular.min.js"></script>
<script src="assets/js/jquery-1.8.3.min.js"></script>
<script src="assets/js/jquery-ui-1.10.3.custom.min.js"></script>
<script src="assets/js/jquery.ui.touch-punch.min.js"></script>
<script src="assets/js/bootstrap.min.js"></script>
<!--<script src="assets/js/bootstrap-select.js"></script>-->
<!--<script src="assets/js/bootstrap-switch.js"></script>-->
<script src="assets/js/flatui-checkbox.js"></script>
<!--<script src="assets/js/flatui-radio.js"></script>-->
<!--<script src="assets/js/jquery.tagsinput.js"></script>-->
<!--<script src="assets/js/jquery.placeholder.js"></script>-->
<!--<script src="assets/js/jquery.stacktable.js"></script>-->
<script type="text/javascript" src="assets/js/FTClient.js"></script>
<script type="text/javascript" src="assets/js/application.js"></script>

<script>
    $(function() {
        // Tabs
        $(".nav-tabs a").on('click', function (e) {
            e.preventDefault();
            $(this).tab("show");
        })

        // Focus state for append/prepend inputs
        $('.input-prepend, .input-append').on('focus', 'input', function () {
            $(this).closest('.control-group, form').addClass('focus');
        }).on('blur', 'input', function () {
                    $(this).closest('.control-group, form').removeClass('focus');
                });
    })
</script>

</body>
</html>